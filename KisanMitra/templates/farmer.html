{% extends 'base.html' %}
{% block title %}
Register Farmers Details
{% endblock title %}



{% block body %}
 <h3 class="text-center"><span>Register Farmers Details</span> </h3>
  
{% with messages=get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}

<div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
    {{message}}


</div>
  {% endfor %}
  {% endif %}
  {% endwith %}
<br>
<div class="container">

<div class="row">

<div class="col-md-4"></div>
<div class="col-md-4">

<form action="/register" method="post">
<div class="form-group">

<label for="rollno">Farmer Name</label>
<input type="text" class="form-control" name="farmername" id="farmername" required>

<p id="nameError" style="color: red;"></p>

<script>
document.getElementById('farmername').addEventListener('input', function() {
    var farmerName = this.value.trim();
    var nameError = document.getElementById('nameError');
    
    var validCharacters = /^[a-zA-Z]+$/; // Regular expression to match only alphabets
    
    if (!validCharacters.test(farmerName)) {
        nameError.textContent = 'Please enter only letters (A-Z, a-z).';
        this.setCustomValidity('Please enter only letters (A-Z, a-z).');
    } else {
        nameError.textContent = '';
        this.setCustomValidity('');
    }
});
</script>



</div>
<br>
<div class="form-group">

<label for="adharnumber">Adhar Number</label>
<input type="number" class="form-control" name="adharnumber" id="adharnumber" required>
<p id="aadhaarError" style="color: red;"></p>

<script>
document.getElementById('adharnumber').addEventListener('input', function() {
    var aadhaarNumber = this.value.trim();
    var aadhaarError = document.getElementById('aadhaarError');
    
    if (aadhaarNumber.length !== 15 || isNaN(aadhaarNumber)) {
        aadhaarError.textContent = 'Aadhaar number must be exactly 15 digits.';
        this.setCustomValidity('Aadhaar number must be exactly 15 digits.');
    } else {
        aadhaarError.textContent = '';
        this.setCustomValidity('');
    }
});
</script>





</div>
<br>
<div class="form-group">

<label for="age">Age</label>
<input type="number" class="form-control" name="age" id="age" required>
</div>
<br>
<div class="form-group">                          
<select  class="form-control" id="gender" name="gender"  required>
        <option selected>Select Gender</option>
    
        <option value="male">Male</option>
        <option value="female">Female</option>
       
      </select>
 </div>
<br>


<div class="form-group">
<label for="num">Phone Number</label>
<input type="number" class="form-control" name="phonenumber" id="phonenumber" required>
<p id="phoneError" style="color: red;"></p>

<script>
document.getElementById('phonenumber').addEventListener('input', function() {
    var phoneNumber = this.value.trim();
    var phoneError = document.getElementById('phoneError');
    
    if (phoneNumber.length !== 10 || isNaN(phoneNumber)) {
        phoneError.textContent = 'Phone number must be exactly 10 digits.';
        this.setCustomValidity('Phone number must be exactly 10 digits.');
    } else {
        phoneError.textContent = '';
        this.setCustomValidity('');
    }
});
</script>






</div>
<br>

<div class="form-group">
<label for="address">Location</label>
<textarea class="form-control" name="address" id="address" required></textarea>
</div>
<br>

<div class="form-group">                          
<select class="form-control" id="farmingtype" name="farmingtype"  required>
        <option selected>Select Equipment</option>
        {% for d in farming  %}
        <option value="{{d.farmingtype}}">{{d.farmingtype}}</option>
        {% endfor %}
      </select>
 </div>
<br>
  
  <button type="submit" class="btn btn-success  btn-block">Save Records</button>
</form>
<br>
<br>

</div>

<div class="col-md-4"></div>

</div></div>



{% endblock body %}